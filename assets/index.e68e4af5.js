import{r as i,j as o,S as D,i as V,s as P,a as F,R as z,b as q,c as u,F as k,M as G,D as M,d as C,I as R,B as U,m as $,e as j,L as H,u as T,f as E,g as Z,h as W,k as Y,O as J,l as K,n as Q,o as X}from"./vendor.27cd92a7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var f=(e=>(e.STUDENT="1",e.TEACHER="2",e.VISITOR="3",e.TUTOR="4",e.ADMIN="5",e.PARENT="6",e))(f||{});const ee="https://ssl.cdn.maodouketang.com/Fn2y9zZHL6Cp7tLDsUq5b1kF7S88",b=btoa("rcore-user-info"),Ee={[f.STUDENT]:"student",[f.TEACHER]:"teacher",[f.TUTOR]:"ta",[f.ADMIN]:"admin",[f.VISITOR]:"visitor",[f.PARENT]:"parent"},te=(e,t)=>{switch(t.type){case"LOGIN":return{...e,currentUser:t.payload};case"LOGOUT":return{...e,currentUser:void 0};case"UPDATE_MY_COURSES":return{...e,myRegisters:t.payload};case"UPDATE_LOGIN_DIALOG_VISIBLE":return{...e,loginDialogVisible:t.payload};default:throw new Error(`[count-context] Unhandled action type: ${t.type}`)}},S={currentUser:{phone:localStorage.getItem(b)},myRegisters:[],loginDialogVisible:!1},oe=()=>S,N=i.exports.createContext({state:S,dispatch:oe});function se(e){const[t,n]=i.exports.useReducer(te,S);return o(N.Provider,{value:{state:t,dispatch:n},...e})}const v=()=>{const e=i.exports.useContext(N);if(e===void 0)throw new Error("useCount must be used with a CountProvider");return e};const ne=e=>o("div",{className:"loading-container",children:o(D,{tip:"\u6570\u636E\u52A0\u8F7D\u4E2D...",size:"small",...e})}),re="modulepreload",ae=function(e){return"/course/"+e},B={},I=function(t,n,a){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=ae(s),s in B)return;B[s]=!0;const r=s.endsWith(".css"),d=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":re,r||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),r)return new Promise((h,c)=>{l.addEventListener("load",h),l.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};const ie=(e,t)=>{if(V(t[0]))return P(t,n=>{const[a,s]=F(n);return e>=a&&e<=s});{const[n,a]=F(t);return e>=n&&e<=a}},ce=(e,t,n)=>{let a=~~(Math.random()*(e-t+1)+t);if(n)for(;ie(a,n);)a=~~(Math.random()*(e-t+1)+t);return a},g=(e,t,n,a)=>{let s=[];for(let r=0;r<n;r++)s=s.concat(ce(e,t,a));return s},y=4,le=e=>{const[t,n,a]=e;return`rgb(${t}, ${n}, ${a})`},A=()=>({nums:g(122,48,y,[[58,64],[91,96]]),rotate:g(50,-50,y),fontSize:g(12,20,y),color:[g(100,255,3),g(100,255,3),g(100,255,3),g(100,255,3)]}),ue=i.exports.forwardRef((e,t)=>{const[n,a]=i.exports.useState(A());return i.exports.useImperativeHandle(t,()=>({getCodes:()=>n.nums,getCodesAsString:s=>{const r=n.nums.map(d=>String.fromCharCode(d)).join("");return s?r.toLowerCase():r}}),[n]),o("div",{className:"verification-code-box",onClick:()=>a(A()),children:n.nums.map((s,r)=>o("span",{style:{color:le(n.color[r]),fontSize:n.fontSize[r],transform:`rotate(${n.rotate[r]}deg)`},children:String.fromCharCode(s)},r))})}),x=z.forwardRef((e,t)=>{const{children:n,symbol:a,className:s="",...r}=e;return o("svg",{...r,className:`icon ${s}`,"aria-hidden":"true",ref:t,children:o("use",{xlinkHref:`#${a}`})})}),de="",m=q.create({baseURL:de});m.interceptors.response.use(function(e){return e.data},function(e){return Promise.reject(e)});m.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)});const p=385,_=2e3;async function Be(){return(await m("/seller/api/homepages",{params:{"clientId.equals":p}}))[0]}async function Ae(e){const t=e?`/seller/api/coursesget/getAllCoursesByConditionsWithTotal?page=0&size=18&clientId=${p}&tag=hot&isDelete=1&sort=courseIndex,asc`:`/seller/api/coursesget/getAllCoursesByConditionsWithTotal?page=0&size=100&isDelete=1&clientId=${p}&sort=courseIndex,asc`;return await m(t)}async function Te(e,t=0){return await m("/seller/api/students/getAllCourseByStudentWithTotal",{params:{page:t,phone:e,size:20,sort:"id,desc"}})}async function Ne(e){return(await m("/seller/api/courses",{params:{"clientId.equals":p,"courseId.equals":e}}))[0]}async function _e(){return await m(`/seller/api/teachers/getAllTeachersByConditionsWithTotal?page=0&size=6&clientId=${p}`)}async function Le(e){return await m("/seller/api/students",{params:{"clientId.equals":p,"courseId.equals":e,size:_}})}async function Oe(e){return await m("/seller/api/course-classes",{params:{"clientId.equals":p,"courseId.equals":e,size:_,sort:"startAt,desc"}})}async function De(e){return await m("/seller/api/students",{method:"POST",data:e})}async function me(e){return await m("/seller/api/students",{params:{"clientId.equals":p,"phone.equals":e}})}async function Ve(e){const{roomId:t,startTime:n,endTime:a}=e;return await m("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:{roomId:t,startTime:new Date(n).toJSON(),endTime:new Date(a).toJSON(),clientId:p,page:0,size:200,actionType:"CHAT"}})}const pe=()=>{const{state:{currentUser:e},dispatch:t}=v(),n=i.exports.useCallback(async()=>{if(e!=null&&e.phone){const a=await me(e==null?void 0:e.phone);t({type:"UPDATE_MY_COURSES",payload:a})}},[e==null?void 0:e.phone]);i.exports.useEffect(()=>{n()},[n])};function he(){const e=navigator.userAgent||navigator.vendor||window.opera;return{mobile:()=>/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}}const ge=()=>{const[e,t]=i.exports.useState();return i.exports.useEffect(()=>{const n=he();t(n)},[]),e},L=e=>{const[t,n]=i.exports.useState(!1),[a,s]=i.exports.useState(),{state:{currentUser:r},dispatch:d}=v(),l=c=>{n(!0),s(c),d({type:"LOGIN",payload:{phone:c}})},h=i.exports.useCallback(()=>{const c=localStorage.getItem(b);c&&l(c)},[]);return i.exports.useEffect(()=>{h()},[h]),i.exports.useEffect(()=>{r!=null&&r.phone?(n(!0),s(r.phone)):t&&(n(!1),s(void 0))},[t,r==null?void 0:r.phone]),e?[t,a]:[t]},fe=()=>{const{dispatch:e}=v();return i.exports.useCallback(()=>{localStorage.removeItem(b),e({type:"LOGOUT"})},[])},Ce=/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[0-9])\d{8}$/,be=e=>{const t=i.exports.useRef(),[n,a]=i.exports.useState(!0),[s]=C.useForm();return u(C,{form:s,className:"normal-form",onFinish:d=>{var l;d.code.length===y&&d.code.toLowerCase()===((l=t.current)==null?void 0:l.getCodesAsString(!0))?e.onSubmit(d.phone):a(!1)},autoComplete:"off",size:"large",children:[o("h3",{children:"\u8BF7\u4F7F\u7528\u624B\u673A\u53F7\u767B\u5F55"}),o(C.Item,{name:"phone",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},{pattern:Ce,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}],children:o(R,{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"})}),o(C.Item,{name:"code",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],help:n?void 0:"\u9A8C\u8BC1\u7801\u8F93\u5165\u9519\u8BEF",validateStatus:n?void 0:"error",children:o(R,{placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",addonAfter:o(ue,{ref:t})})}),o(C.Item,{children:o(U,{style:{width:"100%"},type:"primary",htmlType:"submit",children:"\u767B\u5F55"})}),u("span",{children:["\u767B\u5F55\u5373\u4EE3\u8868\u9605\u8BFB\u5E76\u540C\u610F ",o("span",{style:{color:"#3db477"},children:"\u300A\u670D\u52A1\u534F\u8BAE\u548C\u9690\u79C1\u653F\u7B56\u300B"})]})]})},O=({isMobile:e})=>{const{state:{currentUser:t,loginDialogVisible:n},dispatch:a}=v();L();const s=c=>{a({type:"UPDATE_LOGIN_DIALOG_VISIBLE",payload:c})},r=c=>{a({type:"LOGIN",payload:{phone:c}})},d=()=>{a({type:"LOGOUT"})},l=c=>{localStorage.setItem(b,c),$.success("\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE\u56DE\u6765!"),s(!1),r(c)};return t!=null&&t.phone?o(M,{overlayClassName:"user-dropdown-menus",overlay:o(j,{onClick:({key:c})=>{c==="logout"&&(localStorage.removeItem(b),d())},items:[{key:"myCourse",label:o(H,{to:"/myCourse",children:"\u6211\u7684\u8BFE\u7A0B"})},{key:"logout",label:o("span",{children:"\u9000\u51FA\u767B\u5F55"})}]}),placement:"bottomRight",arrow:!0,children:e?o(x,{symbol:"icon-user"}):u("span",{className:"user-info not-link",children:[t.phone,o("img",{width:30,src:ee,alt:"avatar"})]})}):u(k,{children:[e?o(x,{symbol:"icon-user",onClick:()=>s(!0)}):o("span",{className:"nav-link",onClick:()=>s(!0),children:"\u767B\u5F55"}),o(G,{width:350,open:n,footer:null,onCancel:()=>s(!1),maskClosable:!1,children:o(be,{onSubmit:l})})]})},ye=({isMobile:e})=>{const t=T();return o("header",{className:"main-header",children:u("div",{className:"header-content content",children:[u("a",{href:"/homepage/",children:[o("img",{src:"https://ssl.cdn.maodouketang.com/Fpkgonzaw5GTUFa0Bfvd_ZlO5yq1",alt:"logo"}),o("span",{className:"action-item",children:"\u793E\u533A"})]}),u("span",{onClick:()=>t("//"),children:[o(x,{symbol:"icon-home"}),"\u9996\u9875"]}),u("span",{children:[o(O,{isMobile:e}),"\u6211\u7684"]})]})})},ve=()=>o("footer",{children:u("div",{className:"content",children:[u("div",{className:"footer-info",children:[u("section",{children:[o("div",{className:"sub-title",children:"\u5F00\u6E90RISC-V\u793E\u533A"}),o("div",{className:"sub-items",children:o("span",{children:"\u4FC3\u8FDBRISC-V\u7684\u6559\u5B66\u3001\u7814\u7A76\u4E0E\u4EA7\u4E1A\u7684\u53D1\u5C55"})})]}),u("section",{children:[o("div",{className:"sub-title",children:"\u8D44\u6E90\u94FE\u63A5"}),o("div",{className:"sub-items",children:E([{text:"RISC-V\u57FA\u7840\u6559\u7A0B",link:"http://riscvedu.com/"},{text:"\u6E05\u534ERISC-V\u57FA\u7840\u6559\u7A0B\u5B9E\u8DF5\u6559\u7A0B",link:"http://rcore-os.cn/rCore-Tutorial-Book-v3/"},{text:"\u5168\u56FD\u5927\u5B66\u751F\u64CD\u4F5C\u7CFB\u7EDF\u8BBE\u8BA1\u5927\u8D5B",link:"https://os.educg.net/2022CSCC"}],({text:e,link:t})=>o("div",{children:o("a",{href:t,children:e})},t))})]}),u("section",{children:[o("div",{className:"sub-title",children:"\u8054\u7CFB\u6211\u4EEC"}),o("div",{className:"sub-items",children:E([{label:"\u7535\u8BDD",text:"13691584139"},{label:"\u90AE\u7BB1",text:"hello@maodou.io"},{label:"\u5730\u5740",text:"\u5317\u4EAC\u5E02\u6D77\u6DC0\u533A\u6E05\u534E\u79D1\u6280\u56ED\u79D1\u6280\u5927\u53A6C\u5EA7G05"}],({label:e,text:t})=>u("div",{children:[u("span",{children:[e,"\uFF1A"]}),t]},e))})]})]}),o("a",{className:"record-number",href:"https://beian.miit.gov.cn/#/Integrated/index",children:"\u5317\u4EAC\u6E05\u534E\u5927\u5B66\xB7\u4EACICP\u590716045052\u53F7-11"})]})});const Ie=()=>{const e=Z(),t=T(),n=e.pathname==="/",a=!0,[s,r]=L(a),d=fe(),l=ge(),h=!!(l!=null&&l.mobile());pe();const c=u("div",{className:"custom-course-nav",children:[o("span",{className:"nav-common-link nav-link",onClick:()=>t("/"),children:"\u8BFE\u7A0B\u57F9\u8BAD"}),o("span",{className:"nav-common-link nav-link",onClick:()=>window.open("http://tasks.os2edu.cn/pc/"),children:"\u4EFB\u52A1\u4E2D\u5FC3"})]});let w={customRender:u(k,{children:[c,o(O,{})]})};return s&&(w={customRender:c,userInfo:{phone:r},dropMenu:[{key:"myCourse",title:"\u6211\u7684\u8BFE\u7A0B",onClick(){t("/myCourse")}},{key:"logout",title:"\u9000\u51FA\u767B\u5F55",onClick(){d()}}]}),o(W,{headerProps:{extra:w},className:`container ${h?"container-mobile":""}`,children:u(k,{children:[h&&o(ye,{isMobile:!0}),o(Y,{children:o(J,{})}),n&&o(ve,{})]})})},ke=i.exports.lazy(()=>I(()=>import("./index.6f4ae6c2.js"),["assets/index.6f4ae6c2.js","assets/index.758e8626.css","assets/vendor.27cd92a7.js","assets/vendor.324c6f0d.css","assets/index.29c54872.js","assets/index.b2d9a3f8.css"])),xe=i.exports.lazy(()=>I(()=>import("./index.53e09fa9.js"),["assets/index.53e09fa9.js","assets/index.df70dc33.css","assets/vendor.27cd92a7.js","assets/vendor.324c6f0d.css"])),Se=i.exports.lazy(()=>I(()=>import("./index.b6eef121.js"),["assets/index.b6eef121.js","assets/index.7ade5cd7.css","assets/vendor.27cd92a7.js","assets/vendor.324c6f0d.css","assets/index.29c54872.js","assets/index.b2d9a3f8.css"])),we=i.exports.lazy(()=>I(()=>import("./index.31ec5689.js"),["assets/index.31ec5689.js","assets/index.50b575a2.css","assets/vendor.27cd92a7.js","assets/vendor.324c6f0d.css"])),Fe=K([{path:"/",element:o(Ie,{}),children:[{index:!0,element:o(ke,{})},{path:"/:id",element:o(xe,{})},{path:"/:id/replay/:replayId",element:o(we,{})},{path:"myCourse",element:o(Se,{})}]}],{basename:"/course"});Q.createRoot(document.getElementById("root")).render(o(se,{children:o(i.exports.Suspense,{fallback:o("div",{style:{display:"flex",width:"100vw",height:"100vh"},children:o(ne,{size:"large",tip:"\u9875\u9762\u52A0\u8F7D\u4E2D...",delay:500})}),children:o(X,{router:Fe})})}));export{de as B,f as E,x as I,ne as L,Ee as R,b as U,_e as a,Ae as b,ge as c,Ne as d,Le as e,Oe as f,Be as g,Te as h,Ve as i,De as r,v as u};
